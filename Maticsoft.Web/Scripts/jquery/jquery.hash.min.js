(function(e,f){var z,x=/^#*/,b=/^[!?]*/,d=/^[\/&]*|[\/&]*$/g,t={},k={hashType:"!"},l=0,o=[];
e.extend({hash:function(){var F=arguments,C=arguments.length,J=window.location.hash,I={},B={},G={},E,D,H;if(C==0){return c(J);}else{if(C==1&&A(F[0])){I=c(J);
return I[F[0]];}else{if(C==1&&e.type(F[0])=="array"){I=c(J);D=F[0].length;for(E=0;E<D;E++){H=F[0][E];B[H]=I[H];}return B;}else{if(C==2&&A(F[0])&&A(F[1])){I=c(J);
G[F[0]]=F[1];return r(I,G);}else{if(C==3&&A(F[0])&&A(F[1])&&e.type(F[2])=="string"){I=c(J);G[F[0]]=F[1];k.hashType=F[2];return r(I);}else{if(C==1&&e.type(F[0])=="object"){I=c(J);
return r(I,F[0]);}else{if(C==2&&e.type(F[0])=="object"&&e.type(F[1])=="string"){I=c(J);k.hashType=F[1];return r(I,F[0]);}else{if(C==2&&A(F[0])&&F[1]===null){I=c(J);
return h(I,[F[0]]);}else{if(C==2&&e.isArray(F[0])&&F[1]===null){I=c(J);return h(I,F[0]);}else{if(C==1&&F[0]===null){window.location.hash="";return"";}else{if(C==3&&F[0]==="listen"&&A(F[1])&&e.isFunction(F[2])){I=c(J);
s(I,"and",[F[1]],F[2]);}else{if(C==3&&F[0]==="listenAnd"&&e.isArray(F[1])&&e.isFunction(F[2])){I=c(J);s(I,"and",F[1],F[2]);}else{if(C==3&&F[0]==="listenOr"&&e.isArray(F[1])&&e.isFunction(F[2])){I=c(J);
s(I,"or",F[1],F[2]);}}}}}}}}}}}}}}});e.hash.defaults=k;function A(B){return e.type(B)=="string"||e.type(B)=="number";}function q(B){return A(B)?encodeURIComponent(B):B;
}function y(B){return A(B)?decodeURIComponent(B):B;}function u(D,C){for(var B in D){if(D[B]==C[B]){return false;}}return true;}function v(D,C){for(var B in D){if(D[B]!=C[B]){return true;
}}return false;}function c(D){var C={},B="!";D=D.replace(x,"");if(D===""){return C;}B=D.charAt(0);if(!b.test(B)){B="";}D=D.replace(b,"");D=D.replace(d,"");
switch(B){case"!":C=a(D);k.hashType="!";break;case"?":C=p(D);k.hashType="?";break;default:C[D]="";k.hashType="!";}return C;}function a(J){var E=J.split("/"),I={},B=[],C=[],H=false,F=0,D=E.length,G;
for(;F<D;F++){G=e.trim(E[F]);if(A(G)&&G!==""){H?C.push(G):B.push(G);H=!H;}}for(F=0,D=B.length;F<D;F++){I[B[F]]=C[F];}return I;}function p(I){var G=I.split("&"),B={},F=0,D=G.length,E,H,C;
for(;F<D;F++){E=G[F].split("=");H=y(E[0]);C=E[1]===f?"":y(E[1]);if(H!==""&&H!==f){B[H]=C;}}return B;}function g(B){var D,C=[];for(D in B){C.push(q(D)+"/"+q(B[D]));
}return"!"+C.join("/");}function w(B){var D,C=[];for(D in B){C.push(q(D)+"="+q(B[D]));}return"?"+C.join("&");}function r(B,C){for(var D in C){if(A(D)&&A(C[D])){B[D]=C[D];
}}switch(k.hashType){case"!":default:strHash=g(B);break;case"?":strHash=w(B);break;}window.location.hash=strHash;return strHash;}function h(B,D){var E=0,C=D.length;
for(;E<C;E++){if(A(D[E])){delete (B[D[E]]);}}switch(k.hashType){case"!":default:strHash=g(B);break;case"?":strHash=w(B);break;}window.location.hash=strHash;
return strHash;}function s(G,E,C,D){var B={type:E,key:C,fn:D},F;o.push(B);F=function(){var H=window.location.hash;objNow=c(H),objOld={},objNew={},i=0,j=0,m=0,n=0,B={},C=[];
if(e.isEmptyObject(t)){t=G;}G=t;t=objNow;for(i=0,j=o.length;i<j;i++){B=o[i];C=B.key;D=B.fn;objOld={};objNew={};for(m=0,n=C.length;m<n;m++){objOld[C[m]]=G[C[m]];
objNew[C[m]]=objNow[C[m]];}if(B.type=="and"){if(u(objOld,objNew)){D(G,objNow);}}else{if(v(objOld,objNew)){D(G,objNow);}}}};if(!l){l=1;window.addEventListener("hashchange",F,0);
}}})(jQuery);