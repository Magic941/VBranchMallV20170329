@using Maticsoft.Model;
@{
    Layout = "/Areas/CMS/Themes/M2/Views/Shared/_JKIIBaseLayout.cshtml";
}
<link href="/Areas/CMS/Themes/M2/Content/wb5188/css/xiangqing.css" rel="stylesheet" type="text/css" />    
@model V_DriveCardInfo

@if (Model != null)
{   
     <style>
            td.left {
                background: #fff1e4;
                font: larger;
            }

            td {
                line-height: 41px;
                height: 39px;
                border-bottom: 1px #f2d9c1 solid;
                border-right: 1px #f2d9c1 solid;
                padding: 5px;
            }
      </style>
    
     <div  ng-show="ServiceVoucherContent!=''">
        @Html.Raw(@Model.ServiceVoucherContent)
     </div>    
    <div style="background: #ffffff" ng-show="ApplicantType==1&&ServiceVoucherContent==''">
        <div style="text-align: center; padding: 30px;">
            <h1>@(Model.CardTypeName) 服务凭证</h1>
        </div>
       
        <div class="w1200 me_wl">
            <table cellpadding="0" cellspacing="0" border="0" width="95%" style="border: 2px #ff8812 solid; width: 100%;">
                <tr>
                    <td class="left" width="15%">服务凭证号
                    </td>
                    <td >@(Model.CardNo)
                    </td>
                     <td class="left">激活日期
                    </td>
                    <td colspan="3">@(Model.CREATEDATE.ToString("yyyy-MM-dd"))
                    </td>
                </tr>
                <tr>
                    <td class="left">投保人姓名(持卡人)
                    </td>
                    <td>@(Model.Name)
                    </td>
                    <td class="left">身份证
                    </td>
                    <td colspan="3">@(Model.CardID)
                    </td>
                </tr>
                <tr>
                    <td class="left">车牌号
                    </td>
                    <td>@(Model.LPNumber)
                    </td>
                    <td class="left">车架号
                    </td>
                    <td>@(Model.VINumber)
                    </td>
                    <td class="left">车座位数
                    </td>
                    <td>@(Model.SeatsNumber)
                    </td>

                </tr>
                <tr>
                    <td class="left">联系电话
                    </td>
                    <td colspan="5">@(Model.Mobile)
                    </td>
                </tr>

                 @if (!string.IsNullOrEmpty(Model.InsureNo))
                {
                
                    <tr>
                        <td class="left">保单号
                        </td>
                        <td>(@Model.InsureNo)
                        </td>
                        <td class="left">保单生效日
                        </td>
                        <td>@if (Model.InsureOrderStart >= Convert.ToDateTime("1900-01-02"))
                            {
                                Model.InsureOrderStart.ToString("yyyy-MM-dd");
                            }
                            else
                            {
                                "--".ToString();
                            }
                        </td>
                        <td class="left">保单到期日
                        </td>
                        <td>
                            @if (Model.InsureOrderEnd >= Convert.ToDateTime("1900-01-02"))
                            {
                                Model.InsureOrderEnd.ToString("yyyy-MM-dd");
                            }
                            else
                            {
                                "--".ToString();
                            }
                        </td>
                    </tr>
                         
                }
                
               @* @if (!string.IsNullOrEmpty(Model.InsureNo))
                {
                    <tr>
                        <td class="left">保单文件
                        </td>
                        <td colspan="5">
                            <a href="@Model.InsureOrderFileUrl" target="_blank">点击查看保单</a>
                        </td>
                    </tr>
                }*@
            </table>

            <div class="c"></div>
        </div>
    </div>    
        
    <div style="background: #ffffff" ng-show="ApplicantType==1&&ServiceVoucherContent==''">
        <div style="text-align: center; padding: 30px;">
            <h1>@(Model.CardTypeName)服务凭证</h1>
        </div>
        <style>
            td.left {
                background: #fff1e4;
                font: larger;
            }

            td {
                line-height: 41px;
                height: 39px;
                border-bottom: 1px #f2d9c1 solid;
                border-right: 1px #f2d9c1 solid;
                padding: 5px;
            }
        </style>
        <div class="w1200 me_wl">
            <table cellpadding="0" cellspacing="0" border="0" width="95%" style="border: 2px #ff8812 solid; width: 100%;">
                <tr>
                    <td class="left" width="15%">服务凭证号
                    </td>
                    <td colspan="5">@(Model.CardNo)
                    </td>
                </tr>
                <tr>
                    <td class="left">投保单位
                    </td>
                    <td>@(Model.EnterpriseName)
                    </td>
                    <td class="left">单位机构代码证
                    </td>
                    <td colspan="3">@(Model.EnterpriseCode)
                    </td>
                </tr>
                <tr>
                    <td class="left">车牌号
                    </td>
                    <td>@(Model.LPNumber)
                    </td>
                    <td class="left">车架号
                    </td>
                    <td>@(Model.VINumber)
                    </td>
                    <td class="left">车座位数
                    </td>
                    <td>@(Model.SeatsNumber)
                    </td>

                </tr>
                <tr>
                    <td class="left">联系电话
                    </td>
                    <td colspan="5">(@Model.Mobile)
                    </td>
                </tr>
                @if (!string.IsNullOrEmpty(Model.InsureNo))
                {
                
                    <tr>
                        <td class="left">保单号
                        </td>
                        <td>(@Model.InsureNo)
                        </td>
                        <td class="left">保单生效日
                        </td>
                        <td>@if (Model.InsureOrderStart >= Convert.ToDateTime("1900-01-02"))
                            {
                               <p> @Model.InsureOrderStart.ToString("yyyy-MM-dd")</p>
                            }
                            else
                            {
                               <p>--</p>
                            }
                        </td>
                        <td class="left">保单到期日
                        </td>
                        <td>
                            @if (Model.InsureOrderEnd >= Convert.ToDateTime("1900-01-02"))
                            {
                               <p> @Model.InsureOrderEnd.ToString("yyyy-MM-dd")</p>
                            }
                            else
                            {
                                <p>--</p>
                            }
                        </td>
                    </tr>
                         
                }
               @* @if (!string.IsNullOrEmpty(Model.InsureNo))
                {
                    <tr>
                        <td class="left">保单文件
                        </td>
                        <td colspan="5">
                            <a href="@Model.InsureOrderFileUrl" target="_blank">点击查看保单</a>
                        </td>
                    </tr>
                }*@
                @if (!string.IsNullOrEmpty(Model.CardTypeAgreement))
                {
                <tr class="insurants">
                        <td class="left">保障内容
                        </td>
                        <td colspan="5">@Html.Raw(Model.CardTypeAgreement)
                        </td>

                 </tr> 
                }

            </table>
           
            <div class="c"></div>
        </div>
    </div>        

}
else
{
    <span>未查到激活信息</span>
}



<!--服务凭证结束-->

<script>


    var app = angular.module('activaDrivenCardApp', []);
    app.controller('activaDrivenCardCtrl', function ($scope, $http) {
        $scope.ApplicantType = '@Model.ApplicantType';
        $scope.ServiceVoucherContent = '@Model.ServiceVoucherContent';
    });

</script>
