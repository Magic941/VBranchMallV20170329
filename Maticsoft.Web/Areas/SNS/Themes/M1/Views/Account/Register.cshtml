@model Maticsoft.ViewModel.SNS.RegisterModel
@{
    Layout = "~/Areas/SNS/Themes/M1/Views/Shared/_BaseLayout.cshtml";
}
@section head{
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            var i = 0;
            $("#NickName").blur(function () {
                var value = $(this).val();
                if (value.indexOf(";") > -1 || value.indexOf(",") > -1 || value.indexOf("'") > -1) {
                    $.jBox.tip('大神，请您手下留情！');
                    $(this).val("");
                    i++;
                    if (i >= 3) {
                        $.jBox.tip('别玩了，这样有意思吗？');
                    }
                }
            });
        });
    </script>
    @if (ViewData.ModelState != null &&
         ViewData.ModelState.Count > 0 &&
         ViewData.ModelState["Message"] != null &&
         ViewData.ModelState["Message"].Errors.Count > 0)
    {
        <script type="text/javascript">
            $(function() {
                $.jBox.tip('@ViewData.ModelState["Message"].Errors[0].ErrorMessage');

                $("#NickName").blur(function() {
                    var value = $(this).val();
                    if (value.indexOf(";") > 0 || value.indexOf(",") > 0 || value.indexOf("'") > 0) {
                        $.jBox.tip('大神，请你手下留情！');
                    }
                });
                //验证注册邮箱是否存在
                //                $("#tEmail").blur(function () {
                //                    var email = $("#tEmail").val();
                //                    $.ajax({
                //                        url: $Maticsoft.BasePath + "Account/IsExistEmail",
                //                        type: 'post', dataType: 'text', timeout: 10000,
                //                        data: { Action: "post", Email: email },
                //                        success: function (resultData) {
                //                            alert(resultData);
                //                            if (resultData == "false") {
                //                            }
                //                            else {
                //                                $("#btnRegister").attr("disabled", "disabled");
                //                            }
                //                        },
                //                        error: function (XMLHttpRequest, textStatus, errorThrown) {
                //                            alert(textStatus);
                //                            alert(errorThrown);
                //                        }
                //                    });
                //                });
            });
        </script>
    }
}
<div id="login">
    <div class="named">
        新用户注册</div>
    <div class="login_k">
        @using (Html.BeginForm())
        {
            <div class="login_ks">
                <div class="login_k_a">
                    <div class="login_k_a1">
                    </div>
                    <div class="login_k_a2">
                        @Html.TextBoxFor(m => m.Email, new
                            {
                                onblur = "if(!this.value){$(this).hide();$('[value=邮箱]').show();}",
                                style = "display: none;"
                            })
                        <input type="text" value="邮箱" style="display: none;" />
                        <script type="text/javascript">
                            $(function () {
                                $('[value=邮箱]').show().bind('focus', function () {
                                    $(this).hide(); $('#Email').show().focus();
                                });
                            });
                        </script>
                    </div>
                    <div class="login_k_a3">
                    </div>
                </div>
                <div class="login_ks_a">
                    @Html.ValidationMessageFor(m => m.Email)</div>
                <div class="clear">
                </div>
            </div>
            <div class="login_ks">
                <div class="login_k_a">
                    <div class="login_k_a1">
                    </div>
                    <div class="login_k_a2">
                        @Html.TextBoxFor(m => m.NickName, new
                            {
                                onblur = "if(!this.value){$(this).hide();$('[value=昵称]').show();}",
                                style = "display: none;"
                            })
                        <input type="text" value="昵称" style="display: none;" />
                        <script type="text/javascript">
                            $(function () {
                                $('[value=昵称]').show().bind('focus', function () {
                                    $(this).hide(); $('#NickName').show().focus();
                                });
                            });
                        </script>
                    </div>
                    <div class="login_k_a3">
                    </div>
                </div>
                <div class="login_ks_a">
                    @Html.ValidationMessageFor(m => m.NickName)</div>
                <div class="clear">
                </div>
            </div>
            <div class="login_ks">
                <div class="login_k_a">
                    <div class="login_k_a1">
                    </div>
                    <div class="login_k_a2">
                        @Html.PasswordFor(m => m.Password, new
                            {
                                onblur = "if(!this.value){$(this).hide();$('[value=密码]').show();}",
                                style = "display: none;"
                            })
                        <input type="text" value="密码" style="display: none;" />
                        <script type="text/javascript">
                            $(function () {
                                $('[value=密码]').show().bind('focus', function () {
                                    $(this).hide(); $('#Password').show().focus();
                                });
                            });
                        </script>
                    </div>
                    <div class="login_k_a3">
                    </div>
                </div>
                <div class="login_ks_a">
                    @Html.ValidationMessageFor(m => m.Password)</div>
                <div class="clear">
                </div>
            </div>
            <div class="login_ks">
                <div class="login_k_a">
                    <div class="login_k_a1">
                    </div>
                    <div class="login_k_a2">
                        @Html.PasswordFor(m => m.ConfirmPassword, new
                            {
                                onblur = "if(!this.value){$(this).hide();$('[value=确定密码]').show();}",
                                style = "display: none;"
                            })
                        <input type="text" value="确定密码" style="display: none;" />
                        <script type="text/javascript">
                            $(function () {
                                $('[value=确定密码]').show().bind('focus', function () {
                                    $(this).hide(); $('#ConfirmPassword').show().focus();
                                });
                            });
                        </script>
                    </div>
                    <div class="login_k_a3">
                    </div>
                </div>
                <div class="login_ks_a">
                    @Html.ValidationMessageFor(m => m.ConfirmPassword)</div>
                <div class="clear">
                </div>
            </div>
            <div class="login_k_e">
                <input type="submit" value="" style="background: url(/Areas/SNS/Themes/M1/Content/images/rea_1.jpg) no-repeat; width: 90px; height: 40px; margin: 0; padding: 0; border: 0px; cursor: pointer;" />
            </div>
            <div class="clear">
            </div>
        }
    </div>
    <div class="login_tf">
        已有@(ViewBag.SiteName)帐号？@Html.ActionLink("登录", "Login")</div>
    <div class="login_hf">
        <p>
            您可以用以下方式登录</p>
        <div class="login_hf_l">
            <ul>
           <li><a href="@(ViewBag.BasePath)social/sina"  title="新浪微博">
                    <img src="/Areas/SNS/Themes/M1/Content/images/login_7.jpg" /></a></li>
                <li><a href="@(ViewBag.BasePath)social/qq" title="QQ">
                    <img src="/Areas/SNS/Themes/M1/Content/images/login_8.jpg" /></a></li>
              @*  <li><a href="http://open.denglu.cc/transfer/taobao?appid=@ViewBag.APPID" title="淘宝">
                    <img src="/Areas/SNS/Themes/M1/Content/images/login_9.jpg" /></a></li>
                <li><a href="http://open.denglu.cc/transfer/renren?appid=@ViewBag.APPID"  title="人人网">
                    <img src="/Areas/SNS/Themes/M1/Content/images/login_10.jpg" /></a></li>
                <li><a href="http://open.denglu.cc/transfer/netease?appid=@ViewBag.APPID"  title="网易">
                    <img src="/Areas/SNS/Themes/M1/Content/images/login_11.jpg" /></a></li>
                <li><a href="http://open.denglu.cc/transfer/tencent?appid=@ViewBag.APPID"  title="腾讯微博">
                    <img src="/Areas/SNS/Themes/M1/Content/images/login_12.jpg" /></a></li>
                <li><a href="http://open.denglu.cc/transfer/douban?appid=@ViewBag.APPID"  title="豆瓣网">
                    <img src="/Areas/SNS/Themes/M1/Content/images/login_13.jpg" /></a></li>
                <li style="margin-right: 0px;"><a href="http://open.denglu.cc/transfer/baidu?appid=@ViewBag.APPID"  title="百度">
                    <img src="/Areas/SNS/Themes/M1/Content/images/login_14.jpg" /></a></li>*@
            </ul>
        </div>
    </div>
    <div class="clear">
    </div>
</div>
<script type="text/javascript">
    $(function () {
        if ($('#Email').val()) {
            $('[value=邮箱]').hide(); $('#Email').show();
            $('[value=昵称]').hide(); $('#NickName').show();
        }
    });
</script>
